(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{788:function(e,t,n){"use strict";n.r(t);var r=n(612),c=n(648),o=n(628),m=n(798),d=n(671),l=n(613),f=n(623),v=n(781),_=n(801),h=n(787),y=n(649),x=n(782),C=n(783),w=n(77),$=(n(38),n(2)),k=(n(61),n(45),{name:"Company",data:function(){return{company:{},masters:[],childs:[],dialog:!1,tier:{}}},created:function(){var e=this;return Object($.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.run();case 2:case"end":return t.stop()}}),t)})))()},methods:{run:function(){var e=this;return Object($.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getRefferer();case 2:return t.next=4,e.getCompany();case 4:return t.next=6,e.getTier();case 6:case"end":return t.stop()}}),t)})))()},getCompany:function(){var e=this;return Object($.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$core.getHttp("/api/company/company/".concat(e.$auth.user.company,"/"));case 2:e.company=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getRefferer:function(){var e=this;return Object($.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$core.getHttp("/api/account/referrer/?child=".concat(e.$auth.user.id));case 2:return e.masters=t.sent,e.masters=e.$_.orderBy(e.$_.map(e.masters,(function(e,t){return e.no=t+1,e.data=e.master_data,e})),[function(e){return e.master_data}]),t.next=6,e.$core.getHttp("/api/account/referrer/?master=".concat(e.$auth.user.id));case 6:e.childs=t.sent,e.childs=e.$_.orderBy(e.$_.map(e.childs,(function(e,t){return e.no=t+1,e.data=e.child_data,e})),[function(e){return e.child_data}]);case 8:case"end":return t.stop()}}),t)})))()},updateCompany:function(){var e=this;return Object($.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.company.validate()){t.next=10;break}return t.next=3,e.$core.putHttp("/api/company/company/".concat(e.$auth.user.company,"/"),e.company);case 3:if(!t.sent.id){t.next=7;break}return t.next=7,e.$web.alert("Update Success","success","Company has been updated");case 7:return e.dialog=!1,t.next=10,e.run();case 10:case"end":return t.stop()}}),t)})))()},getTier:function(){var e=this;return Object($.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$core.getHttp("/api/company/tier/".concat(e.$auth.user.tier,"/"));case 2:e.tier=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}}),R=n(88),component=Object(R.a)(k,(function(){var e=this,t=e._self._c;return t("div",[t(w.a,{attrs:{color:"transparent",flat:""}},[t("h1",{staticClass:"font-semibold"},[e._v(e._s(e.company.name))]),e._v(" "),t(f.a),e._v(" "),t(r.a,{attrs:{icon:""},on:{click:function(t){e.dialog=!0}}},[t(l.a,[e._v("mdi-pencil")])],1)],1),e._v(" "),t("div",[t("span",{staticClass:"font-semibold"},[e._v("My Tier: Level "+e._s(e.tier.level)+" ("+e._s(e.tier.percent)+"%)")])]),e._v(" "),t(m.a,{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(c.a,[t(o.c,{attrs:{"primary-title":""}},[e._v("\n                Edit Company\n            ")]),e._v(" "),t(o.b,[t(d.a,{ref:"company"},[t(y.a,{attrs:{rules:[e.$v.req],label:"Name"},model:{value:e.company.name,callback:function(t){e.$set(e.company,"name",t)},expression:"company.name"}})],1)],1),e._v(" "),t(o.a,[t(f.a),e._v(" "),t(r.a,{attrs:{color:"primary"},on:{click:function(t){return e.updateCompany()}}},[e._v("Save")])],1)],1)],1),e._v(" "),t(h.a,[t(v.a,[e._v(" My Referrer ")]),e._v(" "),t(v.a,[e._v(" Tier ")]),e._v(" "),t(v.a,[e._v(" Customers ")]),e._v(" "),t(v.a,[e._v(" Office Commission ")]),e._v(" "),t(_.a,[t("div",{staticClass:"pt-6"},[t("h2",{staticClass:"font-semibold"},[e._v("Master")]),e._v(" "),t(x.a,{attrs:{dense:""}},e._l(e.masters,(function(n,i){return t(C.a,{key:i},[t("div",{staticClass:"flex flex-col"},[t("span",{staticClass:"font-semibold"},[e._v(e._s(n.data))]),e._v(" "),t("span",[e._v(e._s(e.$kit.dateTTH(n.created_at)))])])])})),1),e._v(" "),t("h2",{staticClass:"font-semibold"},[e._v("Childs")]),e._v(" "),t(x.a,{attrs:{dense:""}},e._l(e.childs,(function(n,i){return t(C.a,{key:i},[t("div",{staticClass:"flex flex-col"},[t("span",{staticClass:"font-semibold"},[e._v(e._s(n.data))]),e._v(" "),t("span",[e._v(e._s(e.$kit.dateTTH(n.created_at)))])])])})),1)],1)]),e._v(" "),t(_.a,[t("div",[t("Company-Tier")],1)]),e._v(" "),t(_.a,[t("div",[t("Company-Customers")],1)]),e._v(" "),t(_.a,[t("div",[t("Company-OfficeCommission")],1)])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);